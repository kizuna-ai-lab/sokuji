<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Meet Tutorial - Sokuji Extension</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header img {
            max-width: 150px;
            margin-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            text-align: center;
        }
        h2 {
            color: #2c3e50;
            margin-top: 30px;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 8px 16px;
            background-color: #f8f9fa;
            border-radius: 4px;
            text-decoration: none;
            color: #3498db;
        }
        .back-link:hover {
            background-color: #e9ecef;
        }
        .language-selector {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .language-selector a {
            margin: 0 10px;
            color: #3498db;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
        }
        .language-selector a:hover {
            background-color: #e9ecef;
        }
        .language-selector a.active {
            background-color: #3498db;
            color: white;
        }
        .step {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .step h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: #3498db;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        .screenshot {
            max-width: 100%;
            height: auto;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            margin: 15px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .screenshot:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        /* Lightbox styles */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            cursor: pointer;
            animation: fadeIn 0.3s ease;
        }
        .lightbox.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            cursor: default;
        }
        .lightbox-img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            color: #fff;
            font-size: 36px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s ease;
            background: none;
            border: none;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lightbox-close:hover {
            color: #f00;
        }
        .lightbox-caption {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 16px;
            text-align: center;
            white-space: nowrap;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .tip {
            background-color: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
        }
        .tip h4 {
            color: #0c5460;
            margin-top: 0;
        }
        .faq {
            margin-top: 40px;
        }
        .faq-item {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .faq-item h4 {
            color: #2c3e50;
            margin-top: 0;
        }
        footer {
            margin-top: 50px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        code {
            background-color: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../supported-sites.html" class="back-link">← Back to Supported Sites</a>
        
        <div class="header">
            <img src="https://github.com/kizuna-ai-lab/sokuji/raw/main/src/assets/logo.png" alt="Sokuji Logo">
            <h1 id="page-title">Using Sokuji with Google Meet</h1>
        </div>

        <div class="language-selector">
            <span id="lang-label">Language:</span>
            <a href="?lang=en" id="lang-en">English</a>
            <a href="?lang=zh" id="lang-zh">中文</a>
            <a href="?lang=ja" id="lang-ja">日本語</a>
            <a href="?lang=ko" id="lang-ko">한국어</a>
        </div>

        <div id="content">
            <!-- Content will be dynamically inserted here -->
        </div>

        <footer>
            &copy; 2025 Kizuna AI Lab. All rights reserved.
        </footer>
    </div>
    
    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <img class="lightbox-img" id="lightbox-img" src="" alt="">
            <div class="lightbox-caption" id="lightbox-caption"></div>
        </div>
    </div>

    <script>
        // Language content definitions
        const translations = {
            en: {
                pageTitle: "Using Sokuji with Google Meet",
                langLabel: "Language:",
                backLink: "← Back to Supported Sites",
                overview: {
                    title: "Overview",
                    content: "This guide will walk you through setting up and using Sokuji with Google Meet for real-time language translation during your meetings."
                },
                steps: [
                    {
                        title: "Visit Google Meet",
                        content: "Open your browser and navigate to <code>meet.google.com</code>. Join or start a meeting as you normally would.",
                        tip: "Make sure you have the Sokuji extension installed and enabled in Chrome or Edge."
                    },
                    {
                        title: "Grant Microphone Permission",
                        content: "If Sokuji requests microphone permission, click <strong>\"Allow while visiting the site\"</strong> to grant access.",
                        tip: "This permission is required for Sokuji to process your audio for translation."
                    },
                    {
                        title: "Open Sokuji Extension",
                        content: "Click the Sokuji extension icon in the top-right corner of your browser, then click <strong>\"Open Sokuji\"</strong> to launch the sidebar panel.",
                        tip: "The Sokuji sidebar will open on the right side of your browser window."
                    },
                    {
                        title: "Configure Sokuji Settings",
                        content: "In the Sokuji sidebar, configure your translation settings including source and target languages, AI provider, and other preferences.",
                        tip: "Test your microphone input to ensure Sokuji is receiving audio correctly."
                    },
                    {
                        title: "Select Sokuji Virtual Microphone",
                        content: "In Google Meet's audio settings, click the microphone icon and select <strong>Sokuji Virtual Microphone</strong> from the dropdown menu.",
                        tip: "If you don't see the virtual microphone, refresh the page and ensure the extension is active."
                    }
                ],
                tips: {
                    title: "Tips for Best Results",
                    items: [
                        "Speak clearly and avoid background noise",
                        "Pause briefly between sentences for better translation accuracy",
                        "Check your internet connection for smooth performance",
                        "Test your audio before important meetings"
                    ]
                },
                faq: {
                    title: "Frequently Asked Questions",
                    items: [
                        {
                            question: "Why can't I see the Sokuji Virtual Microphone?",
                            answer: "Make sure the Sokuji extension is installed and active. Try refreshing the Google Meet page. If the issue persists, check that you've granted microphone permissions to the extension."
                        },
                        {
                            question: "Can other participants hear both languages?",
                            answer: "By default, participants only hear the translated audio. However, when you enable 'Original Audio Passthrough' in Sokuji's audio settings, participants will hear both your original voice and the translation simultaneously. This feature is useful when you want listeners to hear both languages for context or verification."
                        },
                        {
                            question: "Does Sokuji work with Google Meet recordings?",
                            answer: "Yes, the translated audio will be included in the meeting recording if you're using Sokuji Virtual Microphone."
                        },
                        {
                            question: "What is Original Audio Passthrough?",
                            answer: "Original Audio Passthrough is a feature that allows your original voice to be transmitted alongside the translation. When enabled, listeners hear both languages simultaneously - your natural speech at a lower volume (30% by default) mixed with the AI translation. This is particularly useful for bilingual audiences or when you want to maintain the emotional tone and nuance of your original speech."
                        }
                    ]
                },
                troubleshooting: {
                    title: "Troubleshooting",
                    content: "If you encounter any issues, please visit our <a href='https://github.com/kizuna-ai-lab/sokuji'>GitHub repository</a> or contact us at <a href='mailto:support@kizuna.ai'>support@kizuna.ai</a> for support."
                }
            },
            zh: {
                pageTitle: "在 Google Meet 中使用 Sokuji",
                langLabel: "语言：",
                backLink: "← 返回支持的网站",
                overview: {
                    title: "概述",
                    content: "本指南将指导您如何在 Google Meet 中设置和使用 Sokuji，实现会议中的实时语言翻译。"
                },
                steps: [
                    {
                        title: "访问 Google Meet",
                        content: "打开浏览器并访问 <code>meet.google.com</code>。像往常一样加入或开始会议。",
                        tip: "确保您已在 Chrome 或 Edge 中安装并启用了 Sokuji 扩展。"
                    },
                    {
                        title: "授予麦克风权限",
                        content: "如果 Sokuji 请求麦克风权限，请点击<strong>\"访问该网站时允许\"</strong>以授予访问权限。",
                        tip: "此权限是 Sokuji 处理您的音频以进行翻译所必需的。"
                    },
                    {
                        title: "打开 Sokuji 扩展",
                        content: "点击浏览器右上角的 Sokuji 扩展图标，然后点击<strong>\"打开 Sokuji\"</strong>以启动侧边栏面板。",
                        tip: "Sokuji 侧边栏将在浏览器窗口的右侧打开。"
                    },
                    {
                        title: "配置 Sokuji 设置",
                        content: "在 Sokuji 侧边栏中，配置您的翻译设置，包括源语言和目标语言、AI 提供商和其他偏好设置。",
                        tip: "测试您的麦克风输入以确保 Sokuji 正确接收音频。"
                    },
                    {
                        title: "选择 Sokuji 虚拟麦克风",
                        content: "在 Google Meet 的音频设置中，点击麦克风图标并从下拉菜单中选择 <strong>Sokuji Virtual Microphone</strong>。",
                        tip: "如果看不到虚拟麦克风，请刷新页面并确保扩展处于活动状态。"
                    }
                ],
                tips: {
                    title: "最佳使用建议",
                    items: [
                        "清晰说话，避免背景噪音",
                        "句子之间稍作停顿以提高翻译准确性",
                        "检查网络连接以确保流畅性能",
                        "重要会议前测试音频"
                    ]
                },
                faq: {
                    title: "常见问题",
                    items: [
                        {
                            question: "为什么看不到 Sokuji 虚拟麦克风？",
                            answer: "确保 Sokuji 扩展已安装并处于活动状态。尝试刷新 Google Meet 页面。如果问题仍然存在，请检查是否已授予扩展麦克风权限。"
                        },
                        {
                            question: "其他参与者能听到两种语言吗？",
                            answer: "默认情况下，参与者只能听到翻译后的音频。但是，当您在 Sokuji 的音频设置中启用\"原声音频透传\"功能时，参与者将同时听到您的原始声音和翻译。当您希望听众听到两种语言以便理解上下文或进行验证时，此功能非常有用。"
                        },
                        {
                            question: "Sokuji 支持 Google Meet 录制吗？",
                            answer: "是的，如果您使用 Sokuji 虚拟麦克风，翻译后的音频将包含在会议录制中。"
                        },
                        {
                            question: "什么是原声音频透传？",
                            answer: "原声音频透传是一项允许您的原始声音与翻译一起传输的功能。启用后，听众会同时听到两种语言 - 您的自然语音以较低的音量（默认为 30%）与 AI 翻译混合。这对于双语听众或当您想要保持原始语音的情感语调和细微差别时特别有用。"
                        }
                    ]
                },
                troubleshooting: {
                    title: "故障排除",
                    content: "如果遇到任何问题，请访问我们的 <a href='https://github.com/kizuna-ai-lab/sokuji'>GitHub 仓库</a> 或发送邮件至 <a href='mailto:support@kizuna.ai'>support@kizuna.ai</a> 获取支持。"
                }
            },
            ja: {
                pageTitle: "Google Meet で Sokuji を使用する",
                langLabel: "言語：",
                backLink: "← サポートされているサイトに戻る",
                overview: {
                    title: "概要",
                    content: "このガイドでは、Google Meet で Sokuji を設定して使用し、会議中にリアルタイム言語翻訳を行う方法を説明します。"
                },
                steps: [
                    {
                        title: "Google Meet にアクセス",
                        content: "ブラウザを開いて <code>meet.google.com</code> にアクセスします。通常どおり会議に参加または開始します。",
                        tip: "Chrome または Edge に Sokuji 拡張機能がインストールされ、有効になっていることを確認してください。"
                    },
                    {
                        title: "マイクの権限を許可",
                        content: "Sokuji がマイクの権限を要求した場合、<strong>「このサイトへのアクセス時に許可」</strong>をクリックしてアクセスを許可します。",
                        tip: "この権限は、Sokuji が翻訳のために音声を処理するのに必要です。"
                    },
                    {
                        title: "Sokuji 拡張機能を開く",
                        content: "ブラウザの右上隅にある Sokuji 拡張機能アイコンをクリックし、<strong>「Sokuji を開く」</strong>をクリックしてサイドバーパネルを起動します。",
                        tip: "Sokuji サイドバーはブラウザウィンドウの右側に開きます。"
                    },
                    {
                        title: "Sokuji 設定を構成",
                        content: "Sokuji サイドバーで、ソース言語とターゲット言語、AI プロバイダー、その他の設定を含む翻訳設定を構成します。",
                        tip: "マイク入力をテストして、Sokuji が音声を正しく受信していることを確認します。"
                    },
                    {
                        title: "Sokuji 仮想マイクを選択",
                        content: "Google Meet のオーディオ設定で、マイクアイコンをクリックし、ドロップダウンメニューから <strong>Sokuji Virtual Microphone</strong> を選択します。",
                        tip: "仮想マイクが表示されない場合は、ページを更新して拡張機能がアクティブであることを確認してください。"
                    }
                ],
                tips: {
                    title: "最良の結果を得るためのヒント",
                    items: [
                        "はっきりと話し、背景ノイズを避ける",
                        "翻訳精度を向上させるため、文の間で少し一時停止する",
                        "スムーズなパフォーマンスのためにインターネット接続を確認する",
                        "重要な会議の前にオーディオをテストする"
                    ]
                },
                faq: {
                    title: "よくある質問",
                    items: [
                        {
                            question: "Sokuji 仮想マイクが表示されないのはなぜですか？",
                            answer: "Sokuji 拡張機能がインストールされ、アクティブであることを確認してください。Google Meet ページを更新してみてください。問題が解決しない場合は、拡張機能にマイクの権限を付与したかどうかを確認してください。"
                        },
                        {
                            question: "他の参加者は両方の言語を聞くことができますか？",
                            answer: "デフォルトでは、参加者は翻訳された音声のみを聞きます。ただし、Sokuji のオーディオ設定で「オリジナル音声パススルー」を有効にすると、参加者はあなたの元の声と翻訳を同時に聞くことができます。この機能は、リスナーにコンテキストの理解や検証のために両方の言語を聞いてもらいたい場合に便利です。"
                        },
                        {
                            question: "Sokuji は Google Meet の録画で動作しますか？",
                            answer: "はい、Sokuji 仮想マイクを使用している場合、翻訳された音声が会議の録画に含まれます。"
                        },
                        {
                            question: "オリジナル音声パススルーとは何ですか？",
                            answer: "オリジナル音声パススルーは、あなたの元の声を翻訳と一緒に送信できる機能です。有効にすると、リスナーは両方の言語を同時に聞くことができます - あなたの自然な話し声を低い音量（デフォルトは 30%）で AI 翻訳とミックスして聞きます。これは、バイリンガルの聴衆や、元の話し声の感情的なトーンやニュアンスを維持したい場合に特に便利です。"
                        }
                    ]
                },
                troubleshooting: {
                    title: "トラブルシューティング",
                    content: "問題が発生した場合は、<a href='https://github.com/kizuna-ai-lab/sokuji'>GitHub リポジトリ</a>を訪問するか、<a href='mailto:support@kizuna.ai'>support@kizuna.ai</a> までメールでお問い合わせください。"
                }
            },
            ko: {
                pageTitle: "Google Meet에서 Sokuji 사용하기",
                langLabel: "언어:",
                backLink: "← 지원 사이트로 돌아가기",
                overview: {
                    title: "개요",
                    content: "이 가이드는 Google Meet에서 Sokuji를 설정하고 사용하여 회의 중 실시간 언어 번역을 수행하는 방법을 안내합니다."
                },
                steps: [
                    {
                        title: "Google Meet 방문",
                        content: "브라우저를 열고 <code>meet.google.com</code>에 접속합니다. 평소처럼 회의에 참여하거나 시작하세요.",
                        tip: "Chrome 또는 Edge에 Sokuji 확장 프로그램이 설치되고 활성화되어 있는지 확인하세요."
                    },
                    {
                        title: "마이크 권한 부여",
                        content: "Sokuji가 마이크 권한을 요청하면 <strong>\"이 사이트 방문 시 허용\"</strong>을 클릭하여 액세스를 허용합니다.",
                        tip: "이 권한은 Sokuji가 번역을 위해 오디오를 처리하는 데 필요합니다."
                    },
                    {
                        title: "Sokuji 확장 프로그램 열기",
                        content: "브라우저 오른쪽 상단의 Sokuji 확장 프로그램 아이콘을 클릭한 다음 <strong>\"Sokuji 열기\"</strong>를 클릭하여 사이드바 패널을 시작합니다.",
                        tip: "Sokuji 사이드바는 브라우저 창의 오른쪽에 열립니다."
                    },
                    {
                        title: "Sokuji 설정 구성",
                        content: "Sokuji 사이드바에서 소스 언어와 대상 언어, AI 제공업체 및 기타 환경 설정을 포함한 번역 설정을 구성하세요.",
                        tip: "마이크 입력을 테스트하여 Sokuji가 오디오를 올바르게 수신하는지 확인하세요."
                    },
                    {
                        title: "Sokuji 가상 마이크 선택",
                        content: "Google Meet의 오디오 설정에서 마이크 아이콘을 클릭하고 드롭다운 메뉴에서 <strong>Sokuji Virtual Microphone</strong>을 선택합니다.",
                        tip: "가상 마이크가 보이지 않으면 페이지를 새로 고치고 확장 프로그램이 활성화되어 있는지 확인하세요."
                    }
                ],
                tips: {
                    title: "최상의 결과를 위한 팁",
                    items: [
                        "명확하게 말하고 배경 소음을 피하세요",
                        "번역 정확도 향상을 위해 문장 사이에 잠시 멈추세요",
                        "원활한 성능을 위해 인터넷 연결을 확인하세요",
                        "중요한 회의 전에 오디오를 테스트하세요"
                    ]
                },
                faq: {
                    title: "자주 묻는 질문",
                    items: [
                        {
                            question: "Sokuji 가상 마이크가 보이지 않는 이유는 무엇인가요?",
                            answer: "Sokuji 확장 프로그램이 설치되고 활성화되어 있는지 확인하세요. Google Meet 페이지를 새로 고쳐 보세요. 문제가 지속되면 확장 프로그램에 마이크 권한을 부여했는지 확인하세요."
                        },
                        {
                            question: "다른 참가자들이 두 언어를 모두 들을 수 있나요?",
                            answer: "기본적으로 참가자들은 번역된 오디오만 듣습니다. 그러나 Sokuji의 오디오 설정에서 '원본 오디오 패스스루'를 활성화하면 참가자들이 당신의 원래 목소리와 번역을 동시에 들을 수 있습니다. 이 기능은 청취자가 맥락 이해나 검증을 위해 두 언어를 모두 들어야 할 때 유용합니다."
                        },
                        {
                            question: "Sokuji가 Google Meet 녹화에서 작동하나요?",
                            answer: "네, Sokuji 가상 마이크를 사용하는 경우 번역된 오디오가 회의 녹화에 포함됩니다."
                        },
                        {
                            question: "원본 오디오 패스스루란 무엇인가요?",
                            answer: "원본 오디오 패스스루는 당신의 원래 목소리를 번역과 함께 전송할 수 있는 기능입니다. 활성화하면 청취자는 두 언어를 동시에 들을 수 있습니다 - 당신의 자연스러운 말소리를 낮은 볼륨(기본값 30%)으로 AI 번역과 믹스하여 듣습니다. 이것은 이중 언어 청중이나 원래 말소리의 감정적인 톤과 뉘앙스를 유지하고 싶을 때 특히 유용합니다."
                        }
                    ]
                },
                troubleshooting: {
                    title: "문제 해결",
                    content: "문제가 발생하면 <a href='https://github.com/kizuna-ai-lab/sokuji'>GitHub 저장소</a>를 방문하거나 <a href='mailto:support@kizuna.ai'>support@kizuna.ai</a>로 이메일을 보내 지원을 받으세요."
                }
            }
        };

        // Get language from query string
        function getLanguage() {
            const params = new URLSearchParams(window.location.search);
            const lang = params.get('lang');
            return translations[lang] ? lang : 'en';
        }

        // Render content based on selected language
        function renderContent() {
            const lang = getLanguage();
            const t = translations[lang];
            
            // Update page title
            document.getElementById('page-title').textContent = t.pageTitle;
            document.title = t.pageTitle + ' - Sokuji Extension';
            
            // Update language label
            document.getElementById('lang-label').textContent = t.langLabel;
            
            // Update back link
            document.querySelector('.back-link').textContent = t.backLink;
            
            // Highlight active language
            document.querySelectorAll('.language-selector a').forEach(link => {
                link.classList.remove('active');
            });
            document.getElementById('lang-' + lang).classList.add('active');
            
            // Build content HTML
            let contentHTML = '';
            
            // Overview
            contentHTML += `
                <h2>${t.overview.title}</h2>
                <p>${t.overview.content}</p>
            `;
            
            // Steps
            t.steps.forEach((step, index) => {
                contentHTML += `
                    <div class="step">
                        <h3><span class="step-number">${index + 1}</span>${step.title}</h3>
                        <p>${step.content}</p>
                        <img src="google-meet/${index + 1}.png" alt="${step.title}" class="screenshot">
                        ${step.tip ? `<div class="tip"><h4>Tip</h4><p>${step.tip}</p></div>` : ''}
                    </div>
                `;
            });
            
            // Tips
            contentHTML += `
                <div class="tip">
                    <h4>${t.tips.title}</h4>
                    <ul>
                        ${t.tips.items.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            // FAQ
            contentHTML += `
                <div class="faq">
                    <h2>${t.faq.title}</h2>
                    ${t.faq.items.map(item => `
                        <div class="faq-item">
                            <h4>${item.question}</h4>
                            <p>${item.answer}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Troubleshooting
            contentHTML += `
                <h2>${t.troubleshooting.title}</h2>
                <p>${t.troubleshooting.content}</p>
            `;
            
            // Insert content
            document.getElementById('content').innerHTML = contentHTML;
        }

        // Initialize on page load
        renderContent();
        
        // Lightbox functionality
        function openLightbox(imgSrc, caption) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            lightboxImg.src = imgSrc;
            lightboxCaption.textContent = caption;
            lightbox.classList.add('active');
            
            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            
            // Restore body scroll
            document.body.style.overflow = '';
        }
        
        // Close lightbox when clicking outside the image
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this || e.target.classList.contains('lightbox-content')) {
                closeLightbox();
            }
        });
        
        // Close lightbox with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('lightbox').classList.contains('active')) {
                closeLightbox();
            }
        });
        
        // Add click event to screenshots after content is rendered
        setTimeout(() => {
            document.querySelectorAll('.screenshot').forEach(img => {
                img.addEventListener('click', function() {
                    openLightbox(this.src, this.alt);
                });
            });
        }, 100);
    </script>
</body>
</html>